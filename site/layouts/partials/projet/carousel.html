<div class="flex flex-row px-2 md:px-16 md:my-8">

    <div id="prev-{{.partenaire_type}}" class="flex w-4 md:w-1/12 h-6 self-center justify-center">
        <img class="cursor-pointer" src="/img/page-redistribuer/fleche_slider.svg" alt="partenaire précédent"/>
    </div>
    
    <div id="carousel-{{.partenaire_type}}" class="flex w-10/12 carousel-redistributeurs m-auto">
    {{ $partenaireType := .partenaire_type }}
    {{ range sort .data "order" "desc" }}
        {{ if eq .type $partenaireType}}
        <div class="px-2">
            {{if eq (len .link) 0}}
            <span title="{{.name}}" class="w-full">
                <img class="object-scale-down" src="{{.img}}" alt="logo {{.name}}"/>
            </span>
            {{else}}
            <a href="{{.link}}" target="_blank" title="{{.name}}" class="w-full h-full">
                <img class="w-full h-full object-scale-down object-center px-2" src="{{.img}}" alt="logo {{.name}}"/>
            </a>
            {{end}}
        </div> 
        {{ end }}
    {{ end }}
    
    </div>

    <div id="next-{{.partenaire_type}}" class="flex w-4 md:w-1/12 h-6 self-center justify-center">
        <img class="cursor-pointer" src="/img/page-redistribuer/fleche_slider.svg" alt="partenaire suivant" style="transform: scaleX(-1)"/>
    </div>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

    <script>        
        $(document).ready(function(){
            $('#carousel-{{.partenaire_type}}').slick({
                infinite: true,
                slidesToShow: 5,
                slidesToScroll: 1,
                prevArrow: $('#prev-{{.partenaire_type}}'),
                nextArrow: $('#next-{{.partenaire_type}}'),
                responsive: [{
                    breakpoint: 768,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 1
                    }
                }]
            });
        });

    </script>

    <style>
        .slick-track {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-items: stretch;
        }
        .slick-track .slick-slide {
            display: flex;
            height: 100px;
            align-items: center;
            justify-content: center;
        }
    </style>

</div>

